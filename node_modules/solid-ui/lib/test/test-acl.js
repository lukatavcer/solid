// Test little bits of the acl logic

const acl = require('../acl');
const rdf = require('../../../../linkeddata/rdflib.js/index.js');
const store = $rdf.graph();

var UI = { acl, rdf, store
    // const root = 'https://example.com/'

};const uR = 'https://example.com/';
const R = rdf.sym(uR);
const tR = ` @prefix : <http://www.w3.org/ns/auth/acl#>.

<#rwc> a :Authorization;
    :agent ex:Alice;
    :defalt </>;
    :access </>;
    :mode :Read, :Write, :Control .
`;
const kb = UI.store;

rdf.parse(tR, kb, uR);

const aR = acl.readACL(R, R, kb, false); // ACL for R itself
const aRd = acl.readACL(R, R, kb, true); // deafult ACL fro things within R

console.log('__________________________________');
console.log(JSON.stringify(aR));
console.log('__________________________________');
console.log(JSON.stringify(aRd));
console.log('__________________________________');